{"version":3,"sources":["webpack/bootstrap 24fd40664d6582d03263","./js/main.js","./js/view.js","./js/board.js","./js/snake.js","./js/apple.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACPD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAmB,UAAU;AAC7B,sBAAqB,UAAU;AAC/B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5JA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACRA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 24fd40664d6582d03263\n **/","var View = require('./view');\nvar Board = require('./board');\n\n$(function () {\n  var root = $('.snake-game');\n  var board = new Board();\n  new View(root, board);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","function View ($el, board) {\n  this.$el = $el;\n  this.turn = 0;\n  this.applePos = 0;\n  this.paused = false;\n  this.board = board;\n  this.setupBoard();\n  this.bindEvents();\n  this.runGame();\n}\n\nView.prototype.bindEvents = function () {\n  var view = this;\n  document.onkeypress = function (e) {\n    view.handleKeyPress(e);\n  };\n};\n\nView.prototype.setupBoard = function () {\n  var $board = $('<ul>');\n\n  for (var row = 0; row < 30; row++) {\n    for (var col = 0; col < 40; col++) {\n      var $square = $('<li>').attr('data-pos', row + ',' + col);\n      $board.append($square);\n    }\n  }\n\n  this.$el.append($board);\n};\n\nView.prototype.handleKeyPress = function(e) {\n  var directions = {\n    119: 'N',\n    115: 'S',\n    97: 'W',\n    100: 'E'\n  };\n  var key = e.which;\n  if (key === 112) {\n    this.pauseGame();\n  } else if (key === 13) {\n    location.reload();\n  } else {\n    this.board.snake.turn(directions[key]);\n  }\n};\n\nView.prototype.runGame = function () {\n  var view = this;\n  this.interval = setInterval(function () {\n    view.takeTurn();\n  }, 100);\n  this.interval;\n};\n\nView.prototype.pauseGame = function () {\n  if (this.paused) {\n    this.paused = false;\n    this.runGame();\n    $('.snake-game').removeAttr('id')\n  } else {\n    clearInterval(this.interval);\n    this.interval = 0;\n    this.paused = true;\n    $('.snake-game').attr('id', 'paused')\n  }\n};\n\nView.prototype.takeTurn = function () {\n  this.board.snake.move();\n  this.outOfBounds();\n  this.collide();\n  this.eatApple();\n  this.placeApple();\n  this.drawBoard();\n  this.turn++;\n};\n\nView.prototype.outOfBounds = function () {\n  var inBounds = true;\n  var headPosition = this.board.snake.segments[0];\n\n  if (headPosition[0] > 29 || headPosition[0] < 0) {\n    inBounds = false\n  } else if (headPosition[1] > 39 || headPosition[1] < 0) {\n    inBounds = false\n  }\n\n  if (!inBounds) {\n    this.gameOver();\n  }\n};\n\nView.prototype.drawBoard = function () {\n  var oldSnakes = [].slice.call($('.snake'));\n  oldSnakes.forEach(function (el) {\n    $(el).removeClass('snake');\n  });\n  // var snake = this.board.snake.segments;\n  // var snakeLength = snake.length;\n  // var tail = snake[snakeLength - 1];\n  // var $tailElement = $(\"li[data-pos='\" + tail +\"']\");\n  // $tailElement.removeClass('snake');\n\n  var currentSnake = this.board.snake.segments;\n  var squares =[].slice.call($('li'));\n  var that = this;\n\n  var $applePos = $(\"li[data-pos='\" + that.applePos.toString() +\"']\");\n  $applePos.addClass('apple');\n\n  currentSnake.forEach(function (pos) {\n    var $snakePos = $(\"li[data-pos='\" + pos +\"']\");\n    $snakePos.addClass('snake');\n  });\n\n  // var pos = this.board.snake.segments[0]\n  // var $snakePos = $(\"li[data-pos='\" + pos +\"']\");\n  // $snakePos.addClass('snake');\n};\n\nView.prototype.placeApple = function () {\n  if (this.turn % 10 === 0 && this.applePos === 0) {\n    this.applePos = this.board.apple.randomPosition();\n  }\n};\n\nView.prototype.eatApple = function () {\n  var headPos = this.board.snake.segments[0];\n  var $apple = $('.apple');\n  if (this.applePos[0] === headPos[0] && this.applePos[1] === headPos[1]) {\n    $apple.removeClass('apple');\n    this.board.snake.segments.push(this.applePos);\n    this.board.snake.segments.push(this.applePos);\n    this.applePos = 0;\n  }\n};\n\nView.prototype.collide = function () {\n  var headPos = this.board.snake.segments[0];\n  var snake = this.board.snake.segments;\n  for (var i = 1; i < snake.length; i++) {\n    if (headPos[0] === snake[i][0] && headPos[1] === snake[i][1]) {\n      this.gameOver();\n    }\n  }\n};\n\nView.prototype.gameOver = function () {\n  this.$el.append($('<div class=\"div1\">Game Over!<div>'))\n  this.$el.append($(\"<div class='div2'>Press Enter To Restart<div>\"))\n  clearInterval(this.interval);\n  this.interval = 0;\n};\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/view.js\n ** module id = 1\n ** module chunks = 0\n **/","var Snake = require('./snake');\nvar Apple = require('./apple');\n\nfunction Board () {\n  this.snake = new Snake('E');\n  this.apple = new Apple();\n}\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/board.js\n ** module id = 2\n ** module chunks = 0\n **/","function Snake (direction) {\n  this.dir = direction;\n  this.segments = [[0,1],[0,0]];\n}\n\nSnake.prototype.move = function () {\n  var directions = {\n    N: [-1, 0],\n    S: [1, 0],\n    E: [0, 1],\n    W: [0, -1]\n  };\n\n  var head = this.segments[0];\n  var moveDir = directions[this.dir];\n  var newPos = [head[0] + moveDir[0], head[1] + moveDir[1]];\n\n  this.segments.unshift(newPos);\n  this.segments.pop();\n};\n\nSnake.prototype.turn = function (newDirection) {\n  this.dir = newDirection;\n};\n\nmodule.exports = Snake;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake.js\n ** module id = 3\n ** module chunks = 0\n **/","function Apple () {\n  this.position = this.randomPosition();\n}\n\nApple.prototype.randomPosition = function () {\n  return [this.randomNumber(29), this.randomNumber(39)];\n};\n\nApple.prototype.randomNumber = function (max) {\n  return Math.floor(Math.random() * max);\n};\n\nmodule.exports = Apple;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/apple.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}