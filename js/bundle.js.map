{"version":3,"sources":["webpack/bootstrap e2c071c3982315c6ec2b","./js/main.js","./js/view.js","./js/board.js","./js/snake.js","./js/apple.js","./js/points.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAmB,UAAU;AAC7B,sBAAqB,UAAU;AAC/B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjOA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACTA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e2c071c3982315c6ec2b\n **/","var View = require('./view');\nvar Board = require('./board');\nvar Points = require('./points')\n\n$(function () {\n  var $root = $('.snake-game');\n  var points = new Points($root);\n  var board = new Board();\n  new View($root, board, points);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","function View ($el, board, points) {\n  this.$el = $el;\n  this.points = points.points\n  this.points2 = points.points\n  this.turn = 0;\n  this.applePos = 0;\n  this.paused = false;\n  this.board = board;\n  this.setupBoard();\n  this.bindEvents();\n  this.runGame();\n}\n\nView.prototype.bindEvents = function () {\n  var view = this;\n  document.onkeypress = function (e) {\n    view.handleKeyPress(e);\n  };\n};\n\nView.prototype.setupBoard = function () {\n  var $board = $('<ul>');\n\n  for (var row = 0; row < 30; row++) {\n    for (var col = 0; col < 40; col++) {\n      var $square = $('<li>').attr('data-pos', row + ',' + col);\n      $board.append($square);\n    }\n  }\n\n  this.$el.append($board);\n};\n\nView.prototype.handleKeyPress = function(e) {\n  var directions = {\n    119: 'N',\n    115: 'S',\n    97: 'W',\n    100: 'E',\n    52: 'W',\n    53: 'S',\n    54: 'E',\n    56: 'N'\n  };\n\n  var key = e.which;\n  var dir = directions[key]\n  if (key === 112) {\n    this.pauseGame();\n  } else if (key === 13) {\n    location.reload();\n  } else if (dir && key > 60){\n    this.board.snake.turn(dir);\n  } else if (dir && key < 60) {\n    this.board.snake2.turn(dir);\n  }\n};\n\nView.prototype.runGame = function () {\n  var view = this;\n  this.interval = setInterval(function () {\n    view.takeTurn();\n  }, 80);\n  this.interval;\n};\n\nView.prototype.pauseGame = function () {\n  if (this.paused) {\n    this.paused = false;\n    this.runGame();\n    $('.snake-game').removeAttr('id')\n  } else {\n    clearInterval(this.interval);\n    this.interval = 0;\n    this.paused = true;\n    $('.snake-game').attr('id', 'paused')\n  }\n};\n\nView.prototype.takeTurn = function () {\n  this.board.snake.move();\n  // this.board.snake2.move();\n  this.outOfBounds();\n  this.collide();\n  this.eatApple();\n  this.placeApple();\n  this.drawBoard();\n  this.turn++;\n};\n\nView.prototype.outOfBounds = function () {\n  var inBounds1 = true;\n  var headPosition = this.board.snake.segments[0];\n\n  if (headPosition[0] > 29 || headPosition[0] < 0) {\n    inBounds1 = false\n  } else if (headPosition[1] > 39 || headPosition[1] < 0) {\n    inBounds1 = false\n  }\n\n\n  var inBounds2 = true\n  var headPosition = this.board.snake2.segments[0];\n\n  if (headPosition[0] > 29 || headPosition[0] < 0) {\n    inBounds2 = false\n  } else if (headPosition[1] > 39 || headPosition[1] < 0) {\n    inBounds2 = false\n  }\n\n  if (!inBounds2 && !inBounds1) {\n    this.gameOver(\"You Both Lose!\")\n  } else if (!inBounds1) {\n    this.gameOver(\"Player 1 Loses!\");\n  } else if (!inBounds2) {\n    this.gameOver(\"Player 2 Loses!\");\n  }\n};\n\nView.prototype.drawBoard = function () {\n  var oldSnakes = [].slice.call($('.snake1'));\n  oldSnakes.forEach(function (el) {\n    $(el).removeClass('snake1');\n  });\n\n  var oldSnakes = [].slice.call($('.snake2'));\n  oldSnakes.forEach(function (el) {\n    $(el).removeClass('snake2');\n  });\n  // var snake = this.board.snake.segments;\n  // var snakeLength = snake.length;\n  // var tail = snake[snakeLength - 1];\n  // var $tailElement = $(\"li[data-pos='\" + tail +\"']\");\n  // $tailElement.removeClass('snake');\n\n  var currentSnake = this.board.snake.segments;\n  var currentSnake2 = this.board.snake2.segments;\n  var squares =[].slice.call($('li'));\n  var that = this;\n\n  var $applePos = $(\"li[data-pos='\" + that.applePos.toString() +\"']\");\n  $applePos.addClass('apple');\n\n  currentSnake.forEach(function (pos) {\n    var $snakePos = $(\"li[data-pos='\" + pos +\"']\");\n    $snakePos.addClass('snake1');\n  });\n\n  currentSnake2.forEach(function (pos) {\n    var $snakePos = $(\"li[data-pos='\" + pos +\"']\");\n    $snakePos.addClass('snake2');\n  });\n\n  // var pos = this.board.snake.segments[0]\n  // var $snakePos = $(\"li[data-pos='\" + pos +\"']\");\n  // $snakePos.addClass('snake');\n};\n\nView.prototype.placeApple = function () {\n  if (this.turn % 10 === 0 && this.applePos === 0) {\n    this.applePos = this.board.apple.randomPosition();\n  }\n};\n\nView.prototype.eatApple = function () {\n  var headPos = this.board.snake.segments[0];\n  var $apple = $('.apple');\n  if (this.applePos[0] === headPos[0] && this.applePos[1] === headPos[1]) {\n    $apple.removeClass('apple');\n    this.board.snake.segments.push(this.applePos);\n    this.board.snake.segments.push(this.applePos);\n    this.applePos = 0;\n    this.points += 10;\n    $('.points').html('Points: ' + this.points)\n  }\n\n  var headPos = this.board.snake2.segments[0];\n  var $apple = $('.apple');\n  if (this.applePos[0] === headPos[0] && this.applePos[1] === headPos[1]) {\n    $apple.removeClass('apple');\n    this.board.snake2.segments.push(this.applePos);\n    this.board.snake2.segments.push(this.applePos);\n    this.applePos = 0;\n    this.points2 += 10;\n    $('.points').html('Points: ' + this.points)\n  }\n};\n\nView.prototype.collide = function () {\n  var headPos = this.board.snake.segments[0];\n  var headPos2 = this.board.snake2.segments[0];\n\n  var snake = this.board.snake.segments;\n  var snake2 = this.board.snake2.segments;\n\n  for (var i = 1; i < snake.length; i++) {\n    if (headPos2[0] === snake[i][0] && headPos2[1] === snake[i][1]) {\n      this.gameOver(\"Player 2 Loses!\");\n    }\n    if (headPos[0] === snake[i][0] && headPos[1] === snake[i][1]) {\n      this.gameOver(\"Player 1 Loses!\");\n    }\n  }\n  if (headPos[0] === headPos2[0] && headPos[1] === headPos2[1]) {\n    this.gameOver(\"Both Of You Lose!\");\n  }\n\n  for (var i = 1; i < snake2.length; i++) {\n    if (headPos[0] === snake2[i][0] && headPos[1] === snake2[i][1]) {\n      this.gameOver(\"Player 1 Loses!\");\n    }\n    if (headPos2[0] === snake2[i][0] && headPos2[1] === snake2[i][1]) {\n      this.gameOver(\"Player 2 Loses!\");\n    }\n  }\n};\n\nView.prototype.gameOver = function (winner) {\n  this.$el.append($('<div class=\"div1\">Game Over!<div>'))\n  this.$el.append($(\"<div class='winner'>\" + winner + \"<div>\"))\n  this.$el.append($(\"<div class='div2'>Press Enter To Restart<div>\"))\n  clearInterval(this.interval);\n  this.interval = 0;\n};\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/view.js\n ** module id = 1\n ** module chunks = 0\n **/","var Snake = require('./snake');\nvar Apple = require('./apple');\n\nfunction Board () {\n  this.snake = new Snake('E', [[0,1],[0,0]]);\n  this.snake2 = new Snake('W', [[29,38],[29,39]])\n  this.apple = new Apple();\n}\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/board.js\n ** module id = 2\n ** module chunks = 0\n **/","function Snake (direction, segments) {\n  this.dir = direction;\n  this.segments = segments;\n  this.turning = false;\n}\n\nSnake.prototype.move = function () {\n  var directions = {\n    N: [-1, 0],\n    S: [1, 0],\n    E: [0, 1],\n    W: [0, -1]\n  };\n\n  var head = this.segments[0];\n  var moveDir = directions[this.dir];\n  var newPos = [head[0] + moveDir[0], head[1] + moveDir[1]];\n\n  this.segments.unshift(newPos);\n  this.segments.pop();\n  this.turning = false;\n};\n\nSnake.prototype.turn = function (newDirection) {\n  if (this.dir === 'N' && newDirection === 'S' ||\n    this.dir === 'S' && newDirection === 'N' ||\n    this.dir === 'W' && newDirection === 'E' ||\n    this.dir === 'E' && newDirection === 'W' ||\n    this.turning) {\n      return;\n    }\n\n  this.dir = newDirection;\n  this.turning = true;\n};\n\nmodule.exports = Snake;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake.js\n ** module id = 3\n ** module chunks = 0\n **/","function Apple () {\n  this.position = this.randomPosition();\n}\n\nApple.prototype.randomPosition = function () {\n  return [this.randomNumber(29), this.randomNumber(39)];\n};\n\nApple.prototype.randomNumber = function (max) {\n  return Math.floor(Math.random() * max);\n};\n\nmodule.exports = Apple;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/apple.js\n ** module id = 4\n ** module chunks = 0\n **/","function Points ($root) {\n  this.points = 0;\n  this.placePoints($root);\n}\n\nPoints.prototype.placePoints = function ($root) {\n  var points = $('<div>').html('Points: ' + this.points).addClass('points');\n  $root.append(points);\n};\n\nmodule.exports = Points\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/points.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}